services:
  alert-mobile-notify:
    image: alert-mobile-notify:latest
    container_name: alert-mobile-notify
    restart: unless-stopped
    # 串口设备映射
    # 注意：请根据实际系统情况修改设备路径
    # Linux: /dev/ttyUSB0, /dev/ttyUSB1 等
    # macOS: /dev/cu.usbserial-*, /dev/tty.usbserial-* 等
    # 
    # 如果设备不存在导致启动失败，可以：
    # 1. 运行 ./check-device.sh 查找正确的设备路径
    # 2. 注释掉下面的 devices 配置（如果不需要串口功能）
    # 3. 或者使用 privileged: true（不推荐，安全性较低）
    devices:
      - "/dev/ttyUSB2:/dev/ttyUSB2"
    # privileged: true  # 取消注释以使用特权模式（可以访问所有设备，但安全性较低）
    environment:
      - TZ=Asia/Shanghai
      - CONFIG_FILE=/app/config.yaml
    volumes:
      - ./config.yaml:/app/config.yaml:ro
    networks:
      - alert-network

networks:
  alert-network:
    driver: bridge

